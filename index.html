<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine ğŸ’–</title>

<style>
:root{
  --pink:#ff2f7b;
  --pink2:#ff7ab3;
  --bg1:#ffe1ef;
  --bg2:#e4f4ff;
  --card: rgba(255,255,255,.82);
  --text:#1f2033;
  --muted:#6a6f86;
  --shadow: 0 22px 80px rgba(20,20,40,.18);
  --r:26px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:system-ui,Segoe UI,Roboto,Arial;
  background:
    radial-gradient(900px 650px at 15% 20%, var(--bg2), transparent 60%),
    radial-gradient(900px 650px at 85% 20%, var(--bg1), transparent 60%),
    linear-gradient(135deg,#fff2f8,#eef9ff);
  overflow:hidden;
}
.wrap{
  min-height:100vh;
  display:grid;
  place-items:center;
  padding:22px;
}
.card{
  width:min(760px,92vw);
  background:var(--card);
  backdrop-filter:blur(14px);
  border-radius:var(--r);
  box-shadow:var(--shadow);
  padding:30px 22px 22px;
  position:relative;
  text-align:center;
}
.badge{
  position:absolute;
  top:-14px;
  left:22px;
  padding:8px 14px;
  border-radius:999px;
  background:white;
  font-size:13px;
  color:#555;
}
h1{
  margin:12px 0 10px;
  font-size:clamp(22px,3.8vw,36px);
}
.name{
  background:linear-gradient(90deg,var(--pink),var(--pink2),#5bbcff);
  -webkit-background-clip:text;
  background-clip:text;
  color:transparent;
  font-weight:900;
  text-transform:capitalize;
}
p{margin:0;color:var(--muted);font-size:14px}
.screen{display:none}
.screen.active{display:block}

/* Input */
.inputRow{
  margin-top:18px;
  display:flex;
  gap:10px;
  justify-content:center;
  flex-wrap:wrap;
}
input{
  width:min(340px,82vw);
  padding:14px;
  border-radius:14px;
  border:1px solid #ccc;
  font-size:15px;
}
button{
  border:0;
  border-radius:999px;
  padding:14px 22px;
  font-size:15px;
  font-weight:800;
  cursor:pointer;
}
.primary{
  background:linear-gradient(135deg,var(--pink),var(--pink2));
  color:white;
}

/* Game */
.arena{
  margin-top:22px;
  height:110px;
  position:relative;
  display:flex;
  justify-content:center;
  align-items:center;
  touch-action:none;
}
.yes{
  background:linear-gradient(135deg,var(--pink),var(--pink2));
  color:white;
}
.no{
  position:absolute;
  background:white;
  border:1px solid #ccc;
  min-width:86px;
  left:60%;
  top:34px;
}
.hint{
  margin-top:10px;
  font-size:12.5px;
  color:#666;
}

/* Modal */
.modal{
  position:fixed;
  inset:0;
  display:none;
  place-items:center;
  background:rgba(0,0,0,.35);
}
.box{
  background:white;
  border-radius:28px;
  padding:28px 22px;
  text-align:center;
  width:min(600px,94vw);
}
.big{
  font-size:clamp(22px,3.6vw,34px);
  font-weight:900;
}
.startOver{
  background:white;
  border:1px solid #ccc;
}

/* Hearts */
.rain{position:fixed;inset:0;pointer-events:none;display:none}
.h{
  position:absolute;
  top:-8vh;
  animation:fall 2s ease-in forwards;
}
.h::before{content:"ğŸ’–"}
@keyframes fall{
  to{transform:translateY(115vh) rotate(420deg);opacity:0}
}
</style>
</head>

<body>
<div class="wrap">
  <div class="card">
    <div class="badge">ğŸ’ Happy Valentineâ€™s Week</div>

    <!-- Screen 1 -->
    <div class="screen active" id="screenName">
      <h1>Enter your name ğŸ’—</h1>
      <div class="inputRow">
        <input id="nameInput" placeholder="Type your name">
        <button class="primary" id="startBtn">Continue âœ</button>
      </div>
      <div class="hint">Nicknames work too ğŸ˜Œ</div>
    </div>

    <!-- Screen 2 -->
    <div class="screen" id="screenPlay">
      <h1><span class="name" id="nameSlot"></span> will you be my Valentine?</h1>
      <p>Try tapping â€œNoâ€â€¦ if you can ğŸ˜…</p>

      <div class="arena" id="arena">
        <button class="yes" id="yesBtn">Yes ğŸ’–</button>
        <button class="no" id="noBtn">No</button>
      </div>

      <div class="hint" id="hint">Try tapping â€œNoâ€â€¦ ğŸ˜„</div>
    </div>
  </div>
</div>

<!-- Modal -->
<div class="modal" id="modal">
  <div class="box">
    <div style="font-size:46px">ğŸ˜</div>
    <div class="big">You got my heart ğŸ’–</div>
    <p>Screenshot & send it ğŸ˜„</p>
    <div style="margin-top:16px">
      <button class="yes" onclick="heartRain()">More Love ğŸ’•</button>
      <button class="startOver" onclick="startOver()">Start Over â†©ï¸</button>
    </div>
  </div>
</div>

<div class="rain" id="rain"></div>

<script>
const screenName = document.getElementById("screenName");
const screenPlay = document.getElementById("screenPlay");
const nameInput = document.getElementById("nameInput");
const nameSlot = document.getElementById("nameSlot");
const startBtn = document.getElementById("startBtn");
const modal = document.getElementById("modal");
const arena = document.getElementById("arena");
const noBtn = document.getElementById("noBtn");
const yesBtn = document.getElementById("yesBtn");
const hint = document.getElementById("hint");
const rain = document.getElementById("rain");

function cleanName(n){
  return n.trim().replace(/[^a-zA-Z0-9 ._'~-]/g,"").slice(0,22);
}

startBtn.onclick = ()=>{
  const n = cleanName(nameInput.value);
  if(!n) return nameInput.focus();
  nameSlot.textContent = n;
  screenName.classList.remove("active");
  screenPlay.classList.add("active");
};

function startOver(){
  modal.style.display="none";
  screenPlay.classList.remove("active");
  screenName.classList.add("active");
  nameInput.value="";
}

function moveNo(){
  const r = arena.getBoundingClientRect();
  const b = noBtn.getBoundingClientRect();
  const x = Math.random()*(r.width-b.width);
  const y = Math.random()*(r.height-b.height);
  noBtn.style.left=x+"px";
  noBtn.style.top=y+"px";
  hint.textContent="ğŸ˜‚ğŸ˜‚ğŸ˜‚";
}

noBtn.addEventListener("mouseenter",moveNo);
noBtn.addEventListener("pointerdown",e=>{e.preventDefault();moveNo()});

yesBtn.onclick=()=>{
  modal.style.display="grid";
  heartRain();
};

function heartRain(){
  rain.style.display="block";
  rain.innerHTML="";
  for(let i=0;i<35;i++){
    const h=document.createElement("div");
    h.className="h";
    h.style.left=Math.random()*100+"vw";
    h.style.animationDelay=Math.random()*0.3+"s";
    rain.appendChild(h);
  }
  setTimeout(()=>rain.style.display="none",2000);
}
</script>
</body>
</html>
